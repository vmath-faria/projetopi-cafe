const int ValorAr = 520; //leitura no ar para calibração
const int ValorAgua = 200; // leitura na água para calibração

int ValorUmidadeSolo = 0;
float porcentagemUmidade = 0;

void setup() {
  Serial.begin(9600);
}

void loop() {
  ValorUmidadeSolo = analogRead(A5);

  int faixa = ValorAr - ValorAgua;

  int distancia = ValorAr - ValorUmidadeSolo;

  porcentagemUmidade = (float)distancia / faixa * 100.0;

  if (porcentagemUmidade < 0) porcentagemUmidade = 0;
  if (porcentagemUmidade > 100) porcentagemUmidade = 100;


 Serial.println(porcentagemUmidade);


 

  delay(1000);
